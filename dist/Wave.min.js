window.addEventListener("load",function(){function a(a,b,c,d,e){this.amp=a||10,this.freq=b||.2*Math.PI,this.phase=c||0,this.yOffset=d||0,this.step=e||.01*b}function b(a,b,c){this.height=c,this.threshold=b||10,this.array=a;for(var d=this.array.length,e=0;e<d;e++)a[e]=0}window.Wave=function(){function d(a){var b=a.shapeObj,c=b.curves;c.forEach(function(a){a.move(),a.amp.weaken()})}function e(a){var b=a.shapeObj,c=b.context,d=b.width/2,e=b.curves;e.forEach(function(a){c.save(),c.translate(d,d),c.beginPath(),c.moveTo(-d,a.getResult(-d));for(var e=0;e<=2*d;e++)c.lineTo(e-d,a.getResult(e));c.lineTo(e-d,d),c.lineTo(-d,d),c.closePath(),c.globalAlpha=b.alpha,c.fillStyle=a.color,c.fill(),c.restore()})}function f(a,b,c,d){if(a>100||a<0)throw Error("InputError : Per must be 0 to 100 integer.");a=-a/100+.5,c.forEach(function(c){new s.AniObj({last:d||Math.abs((b*a-c.yOffset)/b*2e3),ratio:0,timeCreate:Date.now(),curve:c,originalValue:c.yOffset,moveLength:b*a-c.yOffset,onUpdate:function(a){var b=Date.now();a.timeCreate+a.last<b?this.stopAnimation():a.ratio=(b-a.timeCreate)/a.last},onRender:function(a){a.curve.yOffset=a.originalValue+a.ratio*a.moveLength}}).animate()})}function g(a){a=a||{};var b={waves:r,alpha:p,threshold:q,width:j,height:k,amp:l,freq:m,yOffset:n,moveStep:o,isRandom:!0};if(a=c.extend(a,b),a.canvasElement)throw Error("the key 'settings.canvasElement' is not allow to be used.Please use another key to create.");if(a.canvasElement=document.getElementById(a.id)||document.getElementById(i),a.canvasElement&&a.canvasElement.getContext)return a.width=a.canvasElement.width||j,a.height=a.canvasElement.height||k,new h(a);throw Error("typeError : Can't get the canvasElement by settings.id.Please check your settings.id.")}function h(c){var g=[],h=new b(new Array(c.width+1),null,c.height,c.threshold),i=null;h.sineCurve(c.width*(c.isRandom?Math.random():1),c.amp*(c.isRandom?Math.random():1),c.freq*(c.isRandom?Math.random():1));for(var j=0;j<c.waves.length;j++)i=new a(h,c.freq*(c.isRandom?Math.random():1),c.freq*(c.isRandom?Math.random():1),c.yOffset*(c.isRandom?Math.random():1),c.moveStep*(c.isRandom?Math.random():1)),i.color=c.waves[j].color,g.push(i);c.curves=g,c.context=c.canvasElement.getContext("2d");var k=new s.AniObj({shapeObj:c,isCanvas:!0,context:c.context,onUpdate:d,onRender:e});this.animate=k.animate.bind(k),this.stopAnimation=k.stopAnimation.bind(k),this.percentage=function(a,b){return f(a,c.height,g,b)},h.sineCurve(c.width,c.height/10,1/c.width)}var i="circle",j="200",k="200",l=10,m=1/j,n=20,o=20*m,p=.2,q=10,r=[{color:"rgb(20,0,255)"},{color:"rgb(20,10,255)"},{color:"rgb(20,30,255)"},{color:"rgb(20,70,255)"},{color:"rgb(20,90,255)"}],s=function(){function a(a){"use strict";if(a=a||{},a.isCanvas=a.isCanvas||!1,this.data=a,a.isCanvas){if(!(a.context instanceof CanvasRenderingContext2D))throw Error("AniObj : the type of aniData isn't CanvasRenderingContext2D.");a.onClear&&console.warn("Your onClear callback is "+a.onClear+".\nProgram will replace it with default clear function.\nIf the effect of default function don't meet your expectation, please define your own onClear callback."),this.data.onClear=b.bind(a.context)}if(!a.onUpdate)throw Error("AniObj : You should register callback onUpdate,otherwise animation can't be run.");if(!a.onRender)throw Error("AniObj : You should register callback onRender,otherwise animation can't be run.")}function b(a){var b=a.context.canvas;b.width=b.width}function c(){if(f===!0){for(var a=h.length,b=0;b<a;b++){var d=h.shift(),e=d.data;d._over||(e.onFrameStart&&e.onFrameStart.call(d,e),e.onUpdate.call(d,e),e.isCanvas&&e.onClear.call(d,e),e.onRender&&e.onRender.call(d,e),e.onFrameEnd&&e.onFrameEnd.call(d,e),h.push(d))}i?requestAnimationFrame(c):setInterval(c,j)}}function d(){f=!1,g=!1}function e(){g?console.log("animation is running.."):(f=!0,g=!0,c())}var f=!0,g=!1,h=[],i="function"==typeof window.requestAnimationFrame,j=16;return a.prototype.animate=function(){h.indexOf(this)===-1&&(h.push(this),this._over=!1)},a.prototype.stopAnimation=function(){h.indexOf(this);this._over=!0},{animateAll:e,stopAllAnimation:d,AniObj:a}}();return{createWave:g,animateAll:s.animateAll,stopAllAnimation:s.stopAllAnimation}}();var c={};c.extend=function(a,b){if(!a)return b;for(var c in b)b.hasOwnProperty(c)&&(a.hasOwnProperty(c)&&(a[c]||"boolean"==typeof a[c])||(a[c]=b[c]));return a},a.prototype.getResult=function(a){if("number"==typeof a)return this.amp instanceof b?this.amp.value(a)*Math.sin(this.freq*a+this.phase)+this.yOffset:this.amp*Math.sin(this.freq*a+this.phase)+this.yOffset;throw new Error("x is undefined")},a.prototype.move=function(){this.phase+=this.step},b.prototype.sineCurve=function(b,c,d){var e=this.array,f=new a(c,d,b,0);for(var g in e)e.hasOwnProperty(g)&&(e[g]=f.getResult(parseInt(g)))},b.prototype.weaken=function(){var a=.999,b=this.array;for(var c in b)if(b.hasOwnProperty(c)){if(Math.abs(b[c])<this.threshold)return;b[c]*=a}},b.prototype.addPoint=function(a,b){"number"==typeof a&&"number"==typeof b&&(this.array[a]=b)},b.prototype.value=function(a){return"number"==typeof a&&void 0!==this.array[a]?this.array[a]:0}});